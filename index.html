<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Macro Calculator - The Strength Blueprint</title>
<style>
  :root {
    --bg: #f8f8f8;
    --fg: #111;
    --muted: #666;
    --line: #e6e6e6;
  }

  body {
    margin: 0;
    background: var(--bg);
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    padding: 32px 16px;
  }

  .wrap {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    padding: 32px;
    max-width: 900px;
    width: 100%;
  }

  h1 {
    font-size: 1.75rem;
    margin-bottom: 1.5rem;
    font-weight: 700;
    text-align: left;
  }

  form {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 16px 24px;
  }

  label {
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--fg);
    display: block;
    margin-bottom: 4px;
  }

  input, select {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--line);
    border-radius: 8px;
    font-size: 1rem;
    outline: none;
  }

  input[type="radio"], input[type="checkbox"] {
    width: auto;
    margin-right: 8px;
  }

  .inline {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .row-span-2 {
    grid-column: 1 / -1;
  }

  .macro-options {
    display: flex;
    justify-content: space-between;
    gap: 8px;
    margin-top: 4px;
  }

  .macro-options label {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid var(--line);
    border-radius: 50px;
    padding: 10px 0;
    cursor: pointer;
    font-weight: 500;
    font-size: 0.95rem;
  }

  .macro-options input {
    display: none;
  }

  .macro-options input:checked + label {
    background: #111;
    color: #fff;
    border-color: #111;
  }

  .buttons {
    grid-column: 1 / -1;
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 16px;
  }

  button {
    padding: 12px 32px;
    font-size: 1rem;
    border-radius: 8px;
    cursor: pointer;
    border: 2px solid #111;
    transition: 0.2s;
    font-weight: 600;
  }

  .calculate {
    background: #111;
    color: #fff;
  }

  .calculate:hover {
    background: #222;
  }

  .reset {
    background: #fff;
    color: #111;
  }

  .reset:hover {
    background: #f4f4f4;
  }

  .results {
    grid-column: 1 / -1;
    margin-top: 24px;
    background: #fafafa;
    border: 1px solid var(--line);
    border-radius: 8px;
    padding: 16px 20px;
  }

  .results p {
    margin: 8px 0;
    font-size: 1rem;
  }

  @media (max-width: 600px) {
    .wrap {
      padding: 24px 20px;
    }
    h1 {
      text-align: center;
    }
    form {
      grid-template-columns: 1fr;
    }
    .buttons {
      flex-direction: column;
    }
    button {
      width: 100%;
    }
  }
</style>

<body>
  <div class="wrap">
    <h2>Macro Calculator</h2>

    <div class="grid">
      <div>
        <label for="units">Units *</label>
        <select id="units">
          <option value="metric" selected>Metric (kg, cm)</option>
          <option value="imperial">Imperial (lb, ft/in)</option>
        </select>
      </div>

      <div>
        <label>Gender *</label>
        <div class="row">
          <label class="checkbox"><input type="checkbox" id="male"> Male</label>
          <label class="checkbox"><input type="checkbox" id="female"> Female</label>
        </div>
      </div>

      <div>
        <label for="age">Age (years) *</label>
        <input id="age" type="number" min="12" max="100" />
      </div>

      <div>
        <label for="heightCm">Height (cm) *</label>
        <input id="heightCm" type="number" min="120" max="230" />
      </div>

      <div>
        <label for="weightKg">Weight (kg) *</label>
        <input id="weightKg" type="number" min="35" max="250" />
      </div>

      <div>
        <label for="activity">Activity level *</label>
        <select id="activity">
          <option value="">Select...</option>
          <option value="1.2">Sedentary</option>
          <option value="1.375">Light 1-3 d/wk</option>
          <option value="1.55">Moderate 3-5 d/wk</option>
          <option value="1.725">Hard 6-7 d/wk</option>
          <option value="1.9">Very hard (2 sessions per day)</option>
        </select>
      </div>

      <div>
        <label for="goal">Goal *</label>
        <select id="goal">
          <option value="">Select...</option>
          <option value="maintain">Maintain</option>
          <option value="lose_0.25">Lose 0.25 kg / week</option>
          <option value="lose_0.5">Lose 0.5 kg / week</option>
          <option value="lose_0.75">Lose 0.75 kg / week</option>
          <option value="lose_1">Lose 1 kg / week</option>
          <option value="gain_0.25">Gain 0.25 kg / week</option>
          <option value="gain_0.5">Gain 0.5 kg / week</option>
          <option value="gain_0.75">Gain 0.75 kg / week</option>
          <option value="gain_1">Gain 1 kg / week</option>
        </select>
      </div>
    </div>

    <label>Macro display</label>
    <div class="modes">
      <label class="pill"><input type="radio" name="mode" value="balanced" checked> Balanced</label>
      <label class="pill"><input type="radio" name="mode" value="hclf"> High-carb, Low-fat</label>
      <label class="pill"><input type="radio" name="mode" value="hflc"> High-fat, Low-carb</label>
    </div>

    <div class="grid" style="margin-top:12px;">
      <button id="calcBtn" type="button">Calculate</button>
      <button id="resetBtn" type="button" class="btn-ghost">Reset</button>
    </div>

    <div id="results">
      <h3>Daily Targets</h3>
      <div class="cards">
        <div class="card"><div class="k">Calories</div><div class="v" id="outCal">-</div></div>
        <div class="card"><div class="k">Protein</div><div class="v" id="outP">-</div></div>
        <div class="card"><div class="k">Carbs</div><div class="v" id="outC">-</div></div>
        <div class="card"><div class="k">Fats</div><div class="v" id="outF">-</div></div>
      </div>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const $ = id => document.getElementById(id);

  const male = $('male');
  const female = $('female');
  male.addEventListener('change', () => { if (male.checked) female.checked = false; });
  female.addEventListener('change', () => { if (female.checked) male.checked = false; });

  function getSex() {
    if (male.checked) return 'male';
    if (female.checked) return 'female';
    return null;
  }

  const dailyDelta = g => ({
    maintain: 0,
    'lose_0.25': -275,
    'lose_0.5': -550,
    'lose_0.75': -825,
    'lose_1': -1100,
    'gain_0.25': 275,
    'gain_0.5': 550,
    'gain_0.75': 825,
    'gain_1': 1100
  }[g] || 0);

  function calc() {
    const age = Number($('age').value);
    const sex = getSex();
    const heightCm = Number($('heightCm').value);
    const weightKg = Number($('weightKg').value);
    const activity = Number($('activity').value);
    const goal = $('goal').value;
    const mode = document.querySelector('input[name="mode"]:checked').value;

    if (!age || !sex || !heightCm || !weightKg || !activity || !goal) {
      alert('Please fill out all fields.');
      return;
    }

    const bmr = (10 * weightKg) + (6.25 * heightCm) - (5 * age) + (sex === 'male' ? 5 : -161);
    const tdee = bmr * activity;
    const targetCalories = Math.max(0, tdee + dailyDelta(goal));

    let protein = 2 * weightKg;
    let fat = 0.8 * weightKg;
    if (mode === 'hclf') fat = 0.6 * weightKg;
    if (mode === 'hflc') fat = 1.0 * weightKg;

    const kcalP = protein * 4;
    const kcalF = fat * 9;
    let carbsKcal = targetCalories - (kcalP + kcalF);
    const carbs = Math.max(0, carbsKcal / 4);

    $('outCal').textContent = Math.round(targetCalories) + ' kcal';
    $('outP').textContent = Math.round(protein) + ' g';
    $('outC').textContent = Math.round(carbs) + ' g';
    $('outF').textContent = Math.round(fat) + ' g';

    $('results').style.display = 'block';
    $('results').scrollIntoView({ behavior: 'smooth' });
  }

  function resetForm() {
    document.querySelectorAll('input, select').forEach(el => {
      if (el.type === 'checkbox' || el.type === 'radio') el.checked = false;
      else el.value = '';
    });
    $('results').style.display = 'none';
    ['outCal', 'outP', 'outC', 'outF'].forEach(id => $(id).textContent = '-');
  }

  $('calcBtn').addEventListener('click', calc);
  $('resetBtn').addEventListener('click', resetForm);
});
</script>
</body>
</html>
